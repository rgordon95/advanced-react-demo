webpackJsonp([0],{145:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(39),l=r(s),f=n(97),p=r(f),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n,r;return r=n=function(n){function r(){var t,n,u,a;o(this,r);for(var c=arguments.length,s=Array(c),l=0;l<c;l++)s[l]=arguments[l];return n=u=i(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(s))),u.usedState=function(){return e(u.context.store,u.props)},u.state=u.usedState(),u.onStoreChange=function(){u.subscriptionId&&u.setState(u.usedState())},a=n,i(u,a)}return u(r,n),c(r,[{key:"componentDidMount",value:function(){this.subscriptionId=this.context.store.subscribe(this.onStoreChange)}},{key:"componentWillUnmount",value:function(){this.context.store.unsubscribe(this.subscriptionId),this.subscriptionId=null}},{key:"render",value:function(){return l.default.createElement(t,a({},this.props,this.usedState(),{store:this.context.store}))}}]),r}(l.default.PureComponent),n.displayName=t.name+"Container",n.contextTypes={store:p.default.object},r}};t.default=d},532:function(e,t,n){e.exports=n(533)},533:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(39),i=r(o),u=n(187),a=r(u),c=n(534),s=r(c),l=n(535),f=r(l),p=new s.default(window.initialData);a.default.render(i.default.createElement(f.default,{store:p}),document.getElementById("root"))},534:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){var n=this;o(this,e),this.lookupAuthor=function(e){return n.data.authors[e]},this.subscribe=function(e){return n.lastSubscriptionId++,n.subscriptions[n.lastSubscriptionId]=e,n.lastSubscriptionId},this.unsubscribe=function(e){delete n.subscriptions[e]},this.notifySubscribers=function(){Object.values(n.subscriptions).forEach(function(e){return e()})},this.mergeWithState=function(e){n.data=i({},n.data,e),n.notifySubscribers()},this.setSearchTerm=function(e){n.mergeWithState({searchTerm:e})},this.startClock=function(){setInterval(function(){n.mergeWithState({timestamp:new Date})},1e3)},this.data={articles:this.mapIntoObject(t.articles),authors:this.mapIntoObject(t.authors),searchTerm:"",timestamp:new Date},this.subscriptions={},this.lastSubscriptionId=0,setTimeout(function(){var e=i({},t.articles[0],{id:"fakeArticleId"});n.data=i({},n.data,{articles:i({},n.data.articles,r({},e.id,e))}),n.notifySubscribers()},1e3)}return u(e,[{key:"mapIntoObject",value:function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})}},{key:"getState",value:function(){return this.data}}]),e}();t.default=a},535:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(39),s=r(c),l=n(97),f=r(l),p=n(219),d=r(p),b=n(536),h=r(b),y=n(538),m=r(y),v=n(539),_=r(v),O=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.appState=function(){var e=r.props.store.getState();return{articles:e.articles,searchTerm:e.searchTerm}},r.state=r.appState(),r.onStoreChange=function(){r.setState(r.appState)},u=n,i(r,u)}return u(t,e),a(t,[{key:"getChildContext",value:function(){return{store:this.props.store}}},{key:"componentDidMount",value:function(){this.subscriptionId=this.props.store.subscribe(this.onStoreChange),this.props.store.startClock()}},{key:"componentWillUnmount",value:function(){this.props.store.unsubscribe(this.subscriptionId)}},{key:"render",value:function(){var e=this.state,t=e.articles,n=e.searchTerm,r=new RegExp(n,"i");return n&&(t=(0,d.default)(t,function(e){return e.title.match(r)||e.body.match(r)})),s.default.createElement("div",null,s.default.createElement(_.default,null),s.default.createElement(m.default,null),s.default.createElement(h.default,{articles:t}))}}]),t}(s.default.PureComponent);O.childContextTypes={store:f.default.object},t.default=O},536:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(39),s=r(c),l=n(537),f=r(l),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){return s.default.createElement("div",null,Object.values(this.props.articles).map(function(e){return s.default.createElement(f.default,{key:e.id,article:e})}))}}]),t}(s.default.PureComponent);t.default=p},537:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return{author:e.lookupAuthor(t.article.authorId)}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(39),l=r(s),f=n(97),p=r(f),d=n(145),b=r(d),h={article:{paddingBottom:10,borderBottomStyle:"solid",borderBottomColor:"#aaa",borderBottomWidth:1,marginBottom:10},title:{fontWeight:"bold"},date:{fontSize:"0.8em",color:"#888"},author:{paddingTop:10,paddingBottom:10},body:{paddingLeft:20}},y=function(e){return new Date(e).toDateString()},m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.article,n=e.author;return l.default.createElement("div",{style:h.article},l.default.createElement("div",{style:h.title},t.title),l.default.createElement("div",{style:h.date},y(t.date)),l.default.createElement("div",{style:h.author},l.default.createElement("a",{href:n.website},n.firstName," ",n.lastName)),l.default.createElement("div",{style:h.body},t.body))}}]),t}(l.default.PureComponent);m.propTypes={article:p.default.shape({title:p.default.string.isRequired,body:p.default.string.isRequired,date:p.default.string.isRequired})},t.default=(0,b.default)(a)(m)},538:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(39),s=r(c),l=n(218),f=r(l),p=n(145),d=r(p),b=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={searchTerm:""},r.doSearch=(0,f.default)(function(){r.props.store.setSearchTerm(r.state.searchTerm)},300),r.handleSearch=function(e){r.setState({searchTerm:e.target.value},function(){r.doSearch()})},u=n,i(r,u)}return u(t,e),a(t,[{key:"render",value:function(){return s.default.createElement("input",{type:"search",placeholder:"Enter search term",value:this.state.searchTerm,onChange:this.handleSearch,className:"form-control"})}}]),t}(s.default.PureComponent);t.default=(0,d.default)()(b)},539:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{timestampDisplay:d.timeDisplay(e.getState().timestamp)}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(39),l=r(s),f=n(145),p=r(f),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){return l.default.createElement("div",null,this.props.timestampDisplay)}}]),t}(l.default.PureComponent);d.timeDisplay=function(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})},t.default=(0,p.default)(a)(d)}},[532]);